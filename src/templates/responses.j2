{% extends "base.html" %}

{% block title %}Responses â€“ HeyseForms{% endblock %}

{% block breadcrumb %}
<li><a href="/">HeyseForms</a></li>
<li><a href="/responses">Responses</a></li>
<li><a href="/responses/{{ uniqname }}">{{ uniqname }}</a></li>
<li><a href="/responses/{{ uniqname }}/{{ entry }}">Entry # {{ show_entry }} </a></li>
{% endblock %}

{% block main %}
<div class="row">
<p><strong>Uniqname</strong>: {{ uniqname }}</p>
<p><strong>Email</strong>: <a href="mailto:{{ email }}">{{ email }}</a></p>
<table>
	<tr>
		<td>
			<div class="tab">
				{% for entry in entries %}
					<button class="tablinks" onclick="openResponse('{{ loop.index }}')" id="{{ loop.index }}">Entry {{ loop.index }}</button>
				{% endfor %}
			</div>
			<div style="overflow-y:scroll;min-width:60vw;height:400px;border-radius: 0px 0px 0px 10px">
				{% for entry in entries %}
					<div id="Entry {{ loop.index }}" class="tabcontent">
						<dl>
							{% for question, answer in entry.items() %}
								<div class="response">
									<dt>{{ question }}</dt>
									<dd>{{ answer }}</dd>
								</div>
								<br>
							{% endfor %}
						</dl>
					</div>
				{% endfor %}
			</div>
		</td>
		<td>
			<form>
				<label for="subject">Subject:</label><br>
				<input type="text" id="subject"><br>
				<label for="message">Message:</label><br>
				<textarea></textarea><br><br>
				<input type="submit" value="Reply">
			</form>
		</td>
	</tr>
</table>
</div>

<script>
	document.getElementById("Entry " + {{show_entry}}).style.display = "block";
	var current = document.getElementById({{show_entry}});
	current.className += " active";

	function openResponse(num) {
		window.location.replace(num);		
	}
</script>
{% endblock %}